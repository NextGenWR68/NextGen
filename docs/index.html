<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NextGen - ส่งความคิดเห็น</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Header -->
  <header>
    <div class="logo-banner-container">
      <div class="logo">
        <img src="NextGen.png" alt="โลโกของ NextGen" id="logo">
      </div>
      <div class="banner">
        <h1>NextGen</h1>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main>
    <section>
      <h2>ส่งความคิดเห็นของคุณ</h2>
      <form id="feedback-form">
        <textarea id="feedback" placeholder="เขียนความคิดเห็นของคุณที่นี่..." required></textarea>
        <button type="submit">ส่งความคิดเห็น</button>
      </form>
      <p id="status" style="margin-top: 10px;"></p>
    </section>

    <a href="adminarnetgen68xnxx.html">
      <button style="margin-top: 20px;">ไปที่หน้าจัดการความคิดเห็น</button>
    </a>
  </main>
  <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-database.js"></script>

  <script>// Import Firebase SDK
import { initializeApp } from "firebase/app";
import { getDatabase, ref, push } from "firebase/database";

// Firebase Configuration
const firebaseConfig = {
  apiKey: "AIzaSyDcy2qrz2NH-EJ9YIfcZphSXiaG2vXiBPs",
  authDomain: "nextgen-wr682.firebaseapp.com",
  databaseURL: "https://nextgen-wr682-default-rtdb.firebaseio.com",
  projectId: "nextgen-wr682",
  storageBucket: "nextgen-wr682.appspot.com",
  messagingSenderId: "611384552127",
  appId: "1:611384552127:web:b51d2c19a54fe9201bb40a",
  measurementId: "G-4XDQB8WDER",
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const database = getDatabase(app);

// DOM Elements
const feedbackForm = document.getElementById("feedback-form");
const feedbackInput = document.getElementById("feedback");
const status = document.getElementById("status");

// Add Feedback to Firebase
if (feedbackForm) {
  feedbackForm.addEventListener("submit", (e) => {
    e.preventDefault();

    const feedback = feedbackInput.value.trim();
    if (!feedback) {
      status.textContent = "กรุณากรอกความคิดเห็นก่อนส่ง";
      status.style.color = "red";
      return;
    }

    // Push feedback to Firebase
    const feedbackRef = ref(database, "feedbacks/");
    push(feedbackRef, {
      feedback,
      timestamp: Date.now(),
    })
      .then(() => {
        status.textContent = "ความคิดเห็นของคุณถูกส่งเรียบร้อยแล้ว!";
        status.style.color = "#4caf50";
        feedbackInput.value = "";
      })
      .catch((error) => {
        status.textContent = "เกิดข้อผิดพลาดในการส่งความคิดเห็น";
        status.style.color = "red";
        console.error(error);
      });
  });
}
</script>
</body>
</html>
